{"ast":null,"code":"var _jsxFileName = \"D:\\\\VinetiWorkSpace\\\\final-project-GG\\\\src\\\\components\\\\Driver\\\\DriverProfile.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport ProfileInfoTable from '../../utils/Fields';\nimport Loading from '../../utils/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DriverProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: props.match.params.id,\n      isActive: false,\n      userType: 'Driver',\n      isLoading: true,\n      apiUrl: '',\n      user: {}\n    };\n    this.getUserData = this.getUserData.bind(this);\n    this.setUserData = this.setUserData.bind(this);\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.get['Accept'] = '*/*';\n    this.getUserData();\n  }\n\n  async getUserData() {\n    await axios.get(`http://localhost:3000/api/v1/drivers/${this.state.userId}`, {\n      withCredentials: true\n    }).then(response => this.setUserData(response)).then(() => console.log(this.state));\n  }\n\n  setUserData(response) {\n    response = response.data;\n\n    if (response.exist) {\n      this.setState({ ...this.state,\n        exist: response.exist,\n        isLoading: false,\n        user: {\n          phone_number: response.user.phone_number,\n          first_name: response.user.first_name,\n          last_name: response.user.first_name,\n          email: response.user.email,\n          car_manufacturer: response.user.car_manufacturer,\n          car_model: response.user.car_model,\n          car_level: response.user.car_level,\n          driver_license_image_id: response.user.driver_license_image_id,\n          is_active: response.user.is_active,\n          is_verified_by_admin: response.user.is_verified_by_admin,\n          car_registration_number: response.user.car_registration_number\n        }\n      });\n    } else {\n      this.setState({ ...this.state,\n        exist: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center position-absolute top-50 start-50 translate-middle\",\n        children: [this.state.isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 35\n        }, this) : false, /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-borderless\",\n          children: /*#__PURE__*/_jsxDEV(ProfileInfoTable, {\n            fieldsData: this.state.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DriverProfile;","map":{"version":3,"sources":["D:/VinetiWorkSpace/final-project-GG/src/components/Driver/DriverProfile.js"],"names":["React","Component","axios","ProfileInfoTable","Loading","DriverProfile","constructor","props","state","userId","match","params","id","isActive","userType","isLoading","apiUrl","user","getUserData","bind","setUserData","componentDidMount","defaults","headers","get","withCredentials","then","response","console","log","data","exist","setState","phone_number","first_name","last_name","email","car_manufacturer","car_model","car_level","driver_license_image_id","is_active","is_verified_by_admin","car_registration_number","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from 'axios'\r\nimport ProfileInfoTable from '../../utils/Fields'\r\nimport Loading from '../../utils/Loading'\r\n\r\nclass DriverProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userId: props.match.params.id,\r\n      isActive: false,\r\n      userType: 'Driver',\r\n      isLoading: true,\r\n      apiUrl: '',\r\n      user: {}\r\n    }\r\n    this.getUserData = this.getUserData.bind(this)\r\n    this.setUserData = this.setUserData.bind(this)\r\n  }\r\n  \r\n  componentDidMount() {\r\n    axios.defaults.headers.get['Accept'] = '*/*'\r\n    this.getUserData()\r\n  }\r\n  \r\n  async getUserData() {\r\n    await axios.get(`http://localhost:3000/api/v1/drivers/${this.state.userId}`, {withCredentials: true})\r\n      .then(response => this.setUserData(response))\r\n      .then(() => console.log(this.state))\r\n  }\r\n  \r\n  setUserData(response) {\r\n    response = response.data\r\n    if (response.exist) {\r\n      this.setState(\r\n        {\r\n          ...this.state,\r\n          exist: response.exist,\r\n          isLoading: false,\r\n          user: {\r\n            phone_number: response.user.phone_number,\r\n            first_name: response.user.first_name,\r\n            last_name: response.user.first_name,\r\n            email: response.user.email,\r\n            car_manufacturer: response.user.car_manufacturer,\r\n            car_model: response.user.car_model,\r\n            car_level: response.user.car_level,\r\n            driver_license_image_id: response.user.driver_license_image_id,\r\n            is_active: response.user.is_active,\r\n            is_verified_by_admin: response.user.is_verified_by_admin,\r\n            car_registration_number: response.user.car_registration_number\r\n          }\r\n        }\r\n      )\r\n    }\r\n    else {\r\n      this.setState(\r\n        {\r\n          ...this.state,\r\n          exist: false\r\n        }\r\n      )\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"card text-center position-absolute top-50 start-50 translate-middle\">\r\n          {this.state.isLoading ? <Loading /> : false}\r\n            <table className=\"table table-borderless\">\r\n              <ProfileInfoTable fieldsData={this.state.user}/>\r\n            </table>\r\n        </div>\r\n      </div>\r\n    )\r\n    }\r\n}\r\nexport default DriverProfile"]},"metadata":{},"sourceType":"module"}