{"ast":null,"code":"import React from 'react';\nimport { login } from \"./API\";\nimport { ChangeActionLoading, ChangeActionLoggedIn } from \"../redux/actions\";\n\nconst onClick = props => {\n  console.log(props);\n  props.event.preventDefault();\n  Login(props).then();\n};\n\nconst Login = async props => {\n  const params = {\n    session: { ...props.fields,\n      remember_me: props.fields.remember_me === true ? '1' : '0'\n    }\n  };\n  await login(params).then(response => {\n    props.dispatch(ChangeActionLoggedIn({ ...props.state,\n      'isLoading': false,\n      'loggedIn': true,\n      'userType': response.data.model_name,\n      'userId': response.data.user.id,\n      'alert': ''\n    }));\n    props.history.push(`/${response.data.model_name}/${response.data.user.id}`);\n  }).catch(response => {\n    props.dispatch(ChangeActionLoading(false));\n    props.setFields({ ...props.fields,\n      alert: response.message\n    });\n  });\n};\n\n_c = Login;\nexport default onClick;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/VinetiWorkSpace/final-project-GG/src/utils/LoginOnClick.js"],"names":["React","login","ChangeActionLoading","ChangeActionLoggedIn","onClick","props","console","log","event","preventDefault","Login","then","params","session","fields","remember_me","response","dispatch","state","data","model_name","user","id","history","push","catch","setFields","alert","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,OAApB;AACA,SAAQC,mBAAR,EAA6BC,oBAA7B,QAAwD,kBAAxD;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAA,EAAAA,KAAK,CAACG,KAAN,CAAYC,cAAZ;AACAC,EAAAA,KAAK,CAACL,KAAD,CAAL,CACGM,IADH;AAED,CALD;;AAOA,MAAMD,KAAK,GAAG,MAAOL,KAAP,IAAiB;AAC7B,QAAMO,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE,EACP,GAAGR,KAAK,CAACS,MADF;AAEPC,MAAAA,WAAW,EAAEV,KAAK,CAACS,MAAN,CAAaC,WAAb,KAA6B,IAA7B,GAAoC,GAApC,GAAyC;AAF/C;AADI,GAAf;AAMA,QAAMd,KAAK,CAACW,MAAD,CAAL,CACHD,IADG,CACEK,QAAQ,IAAI;AAChBX,IAAAA,KAAK,CAACY,QAAN,CAAed,oBAAoB,CAAC,EAClC,GAAGE,KAAK,CAACa,KADyB;AAElC,mBAAa,KAFqB;AAGlC,kBAAY,IAHsB;AAIlC,kBAAYF,QAAQ,CAACG,IAAT,CAAcC,UAJQ;AAKlC,gBAAUJ,QAAQ,CAACG,IAAT,CAAcE,IAAd,CAAmBC,EALK;AAMlC,eAAS;AANyB,KAAD,CAAnC;AAQAjB,IAAAA,KAAK,CAACkB,OAAN,CAAcC,IAAd,CAAoB,IAAGR,QAAQ,CAACG,IAAT,CAAcC,UAAW,IAAGJ,QAAQ,CAACG,IAAT,CAAcE,IAAd,CAAmBC,EAAG,EAAzE;AACD,GAXG,EAYHG,KAZG,CAYGT,QAAQ,IAAI;AACjBX,IAAAA,KAAK,CAACY,QAAN,CAAef,mBAAmB,CAAC,KAAD,CAAlC;AACAG,IAAAA,KAAK,CAACqB,SAAN,CAAgB,EAAC,GAAGrB,KAAK,CAACS,MAAV;AAAkBa,MAAAA,KAAK,EAAEX,QAAQ,CAACY;AAAlC,KAAhB;AACD,GAfG,CAAN;AAgBD,CAvBD;;KAAMlB,K;AAyBN,eAAeN,OAAf","sourcesContent":["import React from 'react'\r\nimport {login} from \"./API\";\r\nimport {ChangeActionLoading, ChangeActionLoggedIn} from \"../redux/actions\";\r\n\r\nconst onClick = (props) => {\r\n  console.log(props)\r\n  props.event.preventDefault();\r\n  Login(props)\r\n    .then()\r\n}\r\n\r\nconst Login = async (props) => {\r\n  const params = {\r\n    session: {\r\n      ...props.fields,\r\n      remember_me: props.fields.remember_me === true ? '1': '0'\r\n    }\r\n  }\r\n  await login(params)\r\n    .then(response => {\r\n      props.dispatch(ChangeActionLoggedIn({\r\n        ...props.state,\r\n        'isLoading': false,\r\n        'loggedIn': true,\r\n        'userType': response.data.model_name,\r\n        'userId': response.data.user.id,\r\n        'alert': ''\r\n      }))\r\n      props.history.push(`/${response.data.model_name}/${response.data.user.id}`)\r\n    })\r\n    .catch(response => {\r\n      props.dispatch(ChangeActionLoading(false))\r\n      props.setFields({...props.fields, alert: response.message})\r\n    })\r\n}\r\n\r\nexport default onClick"]},"metadata":{},"sourceType":"module"}